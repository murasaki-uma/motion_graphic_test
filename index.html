<html>
  <head>
    <title>Canvas tutorial</title>
    <script type="text/javascript">
        window.onload = function(){
        // スワイプによるスクロールを禁止させる
            document.body.addEventListener('touchstart', function (event) {
              event.preventDefault();
            });
            // キャンバス作成
            var scale = window.devicePixelRatio;
            var canvas = document.createElement('canvas');
            canvas.style.width = window.innerWidth + 'px';
            canvas.style.height = window.innerHeight + 'px';
            canvas.width = window.innerWidth * scale;
            canvas.height = window.innerHeight * scale;
            //canvas.width = 750*scale;
            //canvas.height = 1334*scale;

            // キャンバスを配置するdiv要素を作成し、bodyに追加
            var container = document.createElement('div');
            container.style.width = window.innerWidth + 'px';
            container.style.height = window.innerHeight + 'px';
            
            //container.style.width = 750*scale + 'px';
            //container.style.height = 1334*scale + 'px';
            
            container.style.overflow = 'hidden';
            container.appendChild(canvas);
            document.body.appendChild(container);

            var ctx = canvas.getContext('2d');
            var w = canvas.width;
            var h = canvas.height;
            var x = 0;
            // コンテキスト取得
            //var ctx = canvas.getContext('2d');
            
            
            //winodow.requestAnimationFrame(function() {
              // アニメーションで実行したい処理
                

            // アニメーションループに使うメソッドを決める
            var animationFrame
               = window.requestAnimationFrame
                 || window.webkitRequestAnimationFrame
                 || window.mozRequestAnimationFrame
                 || window.setTimeout;

            // アニメーションを行うメソッドを定義する。
            var animation = function() {

              // 描画する
              draw();

              // 次描画の計算を行う
              calc();

              // 次呼び出しを予約する
              // 第2引数は、setTimeoutの場合のみ使われる
              animationFrame(animation, 1000 / 16);
            };

            // アニメーションを行う
            animation();
            
            function draw() {
                ctx.clearRect(0, 0, w, h); // Canvas全体をクリア
                //ctx.beginPath();
                ctx.lineWidth = 10;
                ctx.strokeRect(x, 0, 200, 200);  //四角形を描く
                ctx.strokeRect(0, 0, w-4, h-4);  //四角形を描く
                    
            //});
            }
            
            function calc() {
                x+= (w-x)/20 // 右にアニメーション
            }
            

        }
    </script>
      
    <style type="text/css">
      body { margin: 0; }

    </style>
  </head>
  <body>
  </body>
</html>

